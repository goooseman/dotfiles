# goooseman staff
- hosts: all
  roles:
    - common/kubectl
    - osx/kops
    - common/rvm

- hosts: all
  roles:
    - role: lwalley.iterm2
      iterm2_dynamic_profiles_local:
        - ~/.config/iterm2/Hotkey Window.json
      iterm2_preferences_custom_folder: ~/.config/iterm2
      iterm2_shell_integration: no


- hosts: all
  roles:
    - common/intuit
    - common/gitconfig
    - common/fira-code-font
- hosts: all
  tasks:
    - name: install homebrew casks apps
      homebrew_cask:
        name:
          - sublime-text
          - sublime-merge
          - iterm2
          - raycast
        state: present

- hosts: all
  handlers:
    - name: Build bat cache
      command: bat cache --build
      listen: "rebuild bat cache"
  tasks:
    - name: install homebrew packages
      homebrew:
        name:
          - git-flow-avh
          - micro
          - wifi-password
          - bat
          - ripgrep
          - autojump
          - graphviz
          - libtool
          - plantuml
          - eza
          - zellij
          - k9s
          - lazygit
          - mas
        state: present
      notify: "rebuild bat cache"
    - name: Change user shell to zsh
      user:
        name: "{{ ansible_env.USER }}"
        shell: /bin/zsh
      become: true
    - name: Install a list of apps
      community.general.mas:
        id:
        - 1470584107 # Dato
        - 1288676542 # Delta
        - 747648890 # Telegram
        - 310633997 # WhatsApp
        - 1289583905 # PixelmatorPro
        - 1319778037 # iStat Menus
        - 1573461917 # SponsorBlock Safari
        - 1440147259 # AdGuard Safari
        state: present

- hosts: all
  roles:
    - role: gantsign.visual-studio-code
      users:
        - username: "{{ ansible_env.USER }}"
          visual_studio_code_extensions:
            - eamodio.gitlens
            - dbaeumer.vscode-eslint
            - ms-vscode.vscode-typescript-tslint-plugin
            - esbenp.prettier-vscode
            - Catppuccin.catppuccin-vsc
            - Catppuccin.catppuccin-vsc-icons
          visual_studio_code_settings: {
            "editor.rulers": [80, 100, 120],
            "workbench.colorTheme": "Catppuccin Frapp√©",
            "workbench.iconTheme": "catppuccin-frappe",
            "workbench.editor.enablePreview": false,
            "editor.fontFamily": "Fira Code Nerd",
            "editor.fontLigatures": true,
          }

